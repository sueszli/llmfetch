o-----o
|\ |\
| o---+-o
o-+---o | neuro-symbolic
\| \| data extraction
o-----o

usually to extract structured data from html using llms is to ask the model to output the data directly. this has several limitations: (1) it can hallucinate values, (2) is brittle to changes in html structure, (3) offers limited interpretability and debuggability and most importantly (3) does not scale due to context window constraints and the cost of repeated api calls.

in this small-scale experiment, we use llms to generate xpath queries. given a smaller subset of the html and the target fields, the model can produce queries that can be evaluated on the full document to retrieve the data. this yields a neuro-symbolic approach to web scraping, combining the pattern recognition strengths of llms with the reliability, efficiency and interpretability of symbolic data extraction methods like xpath.

design decisions:

- `ggml` / `node-llama-cpp` instead of `webllm` for local inference, because it can utilize metal performance shaders on apple silicon gpus. currently only supports nodejs.
- `stable-code-instruct-3b` for xpath query generation. small enough for consumer hardware, but not very accurate.
- custom parser because there is no grammer implemented for structured xpath synthesis with ggml models yet.
